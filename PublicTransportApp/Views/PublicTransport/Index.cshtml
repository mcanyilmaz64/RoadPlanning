@model List<PublicTransportApp.Models.Stops.Stop>
<style>
    table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    }

    th, td {
    border: 1px solid #ddd;
    padding: 8px;
    text-align: center;
    }

    th {
    background-color: #4CAF50;
    color: white;
    }

    tr:nth-child(even) {
    background-color: #f2f2f2;
    }

    .next-stop {
    font-size: 0.9em;
    color: #555;
    }

    @@media screen and (max-width: 768px) {
    table {
    width: 100%;
    }

    th, td {
    padding: 6px;
    font-size: 0.9em;
    }
    }
</style>

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>İsim</th>
            <th>Tür</th>
            <th>Enlem</th>
            <th>Boylam</th>
            <th>Son Durak mı?</th>
            <th>Sonraki Duraklar</th>
            <th>Transferler</th>
            <th>Maliyetler</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var stop in Model)
        {
            <tr>
                <td>@stop.IdStr</td>
                <td>@stop.Name</td>
                <td>@stop.Type</td>
                <td>@stop.Lat</td>
                <td>@stop.Lon</td>
                <td>@(stop.SonDurak ? "Evet" : "Hayır")</td>
                <td>

                    @if (stop.NextStops != null)
                    {
                        <ul class="next-stop">
                            @foreach (var nextStops in stop.NextStops)
                            {
                                <li>
                                    Durak ID: @nextStops.StopId, Mesafe: @nextStops.Mesafe km, Süre: @nextStops.Sure dk, Ücret: @nextStops.Ucret TL
                                </li>
                            }
                        </ul>
                    }
                    else
                    {
                        <span>Yok</span>
                    }

                </td>
                <td>
                    @if (stop.Transfer != null)
                    {
                        <ul class="next-stop">

                            <li>
                                Transfer Durak ID: @stop.Transfer.TransferStopId, Süre: @stop.Transfer.TransferSure dk, Ücret: @stop.Transfer.TransferUcret TL
                            </li>

                        </ul>
                    }
                    else
                    {
                        <span>Yok</span>
                    }

                </td>
                <td>
                    <ul class="costs">
                        @{
                            int count = stop.MoneyCost.Count;
                        }

                        @for(int i=0;i<count;i++)
                        {
                       
                            <li>
                            
                          + Maliyetin Oluştuğu Durak İsmi: @stop.MoneyCost.ElementAt(i).Key <br /> - Ücret Maliyeti: @stop.MoneyCost.ElementAt(i).Value TL
                           
                          <br />  - Zaman Maliyeti: @stop.TimeCost.ElementAt(i).Value dk <br />
                            </li>

                        }
@* 
                        @foreach (var st in stop.TimeCost)
                        {

                            <li>

                                Maliyetin Oluştuğu Durak İsmi:@st.Key  Zaman Maliyeti:@st.Value

                            </li>

                        } *@

                    </ul>
                    

                </td>


            </tr>
        }
    </tbody>
</table>
